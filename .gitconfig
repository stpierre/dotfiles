[user]
	name = Chris St. Pierre
	#email = chris.a.st.pierre@gmail.com
        email = cstpierr@cisco.com
        signingkey = BA70C55C63A66668852E270610DF5E32832981E6

[color]
	diff = auto
	status = auto
	branch = auto
	ui = auto

[alias]
        ci = commit
        co = checkout
        st = status
        br = branch
        p = "pull --rebase --ff-only"
        root = "rev-parse --show-toplevel"
        upstream = "!git remote -v | grep -q dotfiles || ( git reset --hard @{upstream}; git p )"
        up = !git upstream
        nuke = !git chain upstream "clean\\ -dffx" gc
        hist = "log --color --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
        clone-fork = "!clone-with-fork.sh"
        reviewer = "!add-gerrit-reviewer.sh"
        chain = "!git-chain.sh"
        new-branch = !sh -c 'git chain "co\\ ${2:-master}" "upstream" "co\\ -b\\ $1"' -
        what-branch = "!git branch --no-color 2> /dev/null | sed -e '/^[^*]/d; s/^* //;'"
        rename-branch = !sh -c 'git chain "co\\ $1" "co\\ -b\\ $2" "branch\\ -D\\ $1"' -
        full-rebase = !sh -c 'git chain "co\\ $1" upstream "co\\ $(git what-branch)" "rebase\\ $1"' -
        os-bug = !sh -c 'git chain 'co openstack-master' upstream "co\\ -b\\ $1"' -
        pull-push = "!git chain p push"
        # we frequently have local changes to dotfiles, so this makes it easier to pull and push commits
        pulldot = "!git chain stash p 'stash apply'"
        pushdot = "!git chain stash p push 'stash apply'"

[push]
        default = current

[gitreview]
	#username = stpierre
        username = cstpierr

[github]
        user = stpierre

[sendemail]
        from = chris.a.st.pierre@gmail.com
        smtpencryption = tls
        smtpserver = smtp.gmail.com
        smtpuser = chris.a.st.pierre@gmail.com
        smtpserverport = 587

[gpg]
        program = gpg2
